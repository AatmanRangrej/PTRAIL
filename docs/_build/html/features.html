
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>features package &#8212; NumMobility 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="preprocessing package" href="preprocessing.html" />
    <link rel="prev" title="core package" href="core.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="features-package">
<h1>features package<a class="headerlink" href="#features-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-features.helper_functions">
<span id="features-helper-functions-module"></span><h2>features.helper_functions module<a class="headerlink" href="#module-features.helper_functions" title="Permalink to this headline">¶</a></h2>
<p>This module contains all the helper functions for the parallel calculators in
the spatial and temporal features classes.
WARNING: These functions may not be used directly as they would result in a</p>
<blockquote>
<div><p>slower calculation and execution times. They are meant to be used
only as helpers. For calculation of features, use the ones in the
features package.</p>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="features.helper_functions.Helpers">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">features.helper_functions.</span></span><span class="sig-name descname"><span class="pre">Helpers</span></span><a class="headerlink" href="#features.helper_functions.Helpers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="module-features.spatial_features">
<span id="features-spatial-features-module"></span><h2>features.spatial_features module<a class="headerlink" href="#module-features.spatial_features" title="Permalink to this headline">¶</a></h2>
<p>The spatial_features  module contains several functions of the library
that calculates many features based on the DateTime provided in
the data. This module mostly extracts and modifies data collected from
some existing dataframe and appends these information to them. It is to
be also noted that a lot of these features are inspired from the PyMove
library and we are crediting the PyMove creators with them.</p>
<p>&#64;authors Yaksh J Haranwala, Salman Haidri
&#64;date 2nd June, 2021
&#64;version 1.0
&#64;credits PyMove creators</p>
<dl class="py class">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">features.spatial_features.</span></span><span class="sig-name descname"><span class="pre">SpatialFeatures</span></span><a class="headerlink" href="#features.spatial_features.SpatialFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_acceleration_from_prev_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_acceleration_from_prev_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_acceleration_from_prev_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column containing acceleration of the object from the start to the current
point.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the calculation of acceleration is to be done.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_bearing_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_bearing_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_bearing_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column containing bearing between 2 consecutive points. Bearing is also
referred as “Forward Azimuth” sometimes. Bearing/Forward Azimuth is defined as
follows:</p>
<blockquote>
<div><p>Bearing is the horizontal angle between the direction of an object and another
object, or between the object and the True North.</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the bearing is to be calculated.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_bearing_rate_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_bearing_rate_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_bearing_rate_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the bearing rate of the consecutive points. And adding that column into
the dataframe</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the bearing rate is to be calculated</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>NumPandasTraj</dt><dd><p>The dataframe containing the Bearing rate column</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_distance_between_consecutive_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_distance_between_consecutive_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_distance_between_consecutive_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column called Dist_prev_to_curr containing distance between 2 consecutive points.
The distance calculated is the Great-Circle distance.
NOTE: When the trajectory ID changes in the data, then the distance calculation again starts</p>
<blockquote>
<div><p>from the first point of the new trajectory ID and the first point of the new trajectory
ID will be set to 0.</p>
</div></blockquote>
<p>When converting to NumPandasTraj we see a jump of 140-150ms in execution time but converting the
dataframe provides the user with the option to use the NumPandasTraj functionalities.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The data where speed is to be calculated.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_distance_from_given_point_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_distance_from_given_point_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_distance_from_given_point_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a point, this function calculates the distance between that point and all the
points present in the dataframe and adds that column into the dataframe.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which calculation is to be done.</p>
</dd>
<dt>coordinates: tuple</dt><dd><p>The coordinates from which the distance is to be calculated.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_distance_from_start_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_distance_from_start_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_distance_from_start_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column containing distance between the start location and the rest of the
points using Haversine formula. The distance calculated is the Great-Circle distance.
NOTE: When the trajectory ID changes in the data, then the distance calculation again</p>
<blockquote>
<div><p>starts from the first point of the new trajectory ID and the first point of the
new trajectory ID will be set to 0.</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The data where speed is to be calculated.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_jerk_from_prev_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_jerk_from_prev_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_jerk_from_prev_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column containing jerk of the object from the start to the current
point.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the calculation of jerk is to be done.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_point_within_range_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_point_within_range_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_range</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_point_within_range_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks how many points are within the range of the given coordinate. By first making a column
containing the distance between the given coordinate and rest of the points in dataframe by calling
create_distance_from_point(). And then comparing each point using the condition if it’s within the
range and appending the values in a column and attaching it to the dataframe.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the point within range calculation is to be done.</p>
</dd>
<dt>coordinates: tuple</dt><dd><p>The coordinates from which the distance is to be calculated.</p>
</dd>
<dt>dist_range: float</dt><dd><p>The range within which the resultant distance from the coordinates should lie.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_rate_of_bearing_rate_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_rate_of_bearing_rate_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_rate_of_bearing_rate_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the rate of bearing rate of the consecutive points.
Add adding that column into the dataframe</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the rate of bearing rate is to be calculated</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>NumPandasTraj</dt><dd><p>The dataframe containing the rate of Bearing rate column</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.create_speed_from_prev_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_speed_from_prev_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.create_speed_from_prev_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column containing speed of the object from the start to the current
point.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the calculation of speed is to be done.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.get_bounding_box">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.get_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bounding box of the Trajectory data. Essentially, the bounding box is of
the following format:</p>
<blockquote>
<div><p>(min Latitude, min Longitude, max Latitude, max Longitude).</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe containing the trajectory data.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>tuple</dt><dd><p>The bounding box of the trajectory</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.get_distance_travelled_by_date_and_traj_id">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_distance_travelled_by_date_and_traj_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.get_distance_travelled_by_date_and_traj_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a date and trajectory ID, this function calculates the total distance
covered in the trajectory on that particular date and returns it.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe in which teh actual data is stored.</p>
</dd>
<dt>date: Text</dt><dd><p>The Date on which the distance covered is to be calculated.</p>
</dd>
<dt>traj_id: Text</dt><dd><p>The trajectory ID for which the distance covered is to be calculated.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>float</dt><dd><p>The total distance covered on that date by that trajectory ID.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.get_distance_travelled_by_traj_id">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_distance_travelled_by_traj_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.get_distance_travelled_by_traj_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a trajectory ID, calculate the total distance covered by the trajectory.
NOTE: The distance calculated is in metres.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe containing the entire dataset.</p>
</dd>
<dt>traj_id: Text</dt><dd><p>The trajectory ID for which the distance covered is to be calculated.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>float</dt><dd><p>The distance covered by the trajectory</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>MissingTrajIDException</dt><dd><p>The Trajectory ID given by the user is not present in the dataset.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.get_end_location">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_end_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.get_end_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the ending location of an object’s trajectory in the data.
Note: If the user does not provide a trajectory id, then the last
Parameters
———-</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: DaskTrajectoryDF</dt><dd><p>The DaskTrajectoryDF storing the trajectory data.</p>
</dd>
<dt>traj_id</dt><dd><p>The ID of the trajectory whose end location is to be found.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>tuple</dt><dd><p>The (lat, longitude) tuple containing the end location.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.get_number_of_locations">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_number_of_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.get_number_of_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of unique coordinates in the dataframe specific to a trajectory ID.
NOTE: If no Trajectory ID is specified, then the number of unique locations in the</p>
<blockquote>
<div><p>entire dataset is calculated.</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe of which the number of locations are to be computed</p>
</dd>
<dt>traj_id: Text</dt><dd><p>The trajectory id for which the number of unique locations are to be found</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>integer</dt><dd><p>The number of unique locations in the dataframe/trajectory id.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.spatial_features.SpatialFeatures.get_start_location">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_start_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.spatial_features.SpatialFeatures.get_start_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the starting location of an object’s trajectory in the data.</p>
<dl class="simple">
<dt>NOTE: If the user does not give in any traj_id, then the library,</dt><dd><p>by default gives out the start locations of all the unique trajectory ids
present in the data.</p>
</dd>
</dl>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The DaskTrajectoryDF storing the trajectory data.</p>
</dd>
<dt>traj_id</dt><dd><p>The ID of the object whose start location is to be found.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>tuple</dt><dd><p>The (lat, longitude) tuple containing the start location.</p>
</dd>
<dt>pandas.core.dataframe.DataFrame</dt><dd><p>The dataframe containing start locations of all trajectory IDs.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</section>
<section id="module-features.temporal_features">
<span id="features-temporal-features-module"></span><h2>features.temporal_features module<a class="headerlink" href="#module-features.temporal_features" title="Permalink to this headline">¶</a></h2>
<p>The datetime_based  module contains all the features of the library
that calculates several features based on the DateTime provided in
the data. It is to be noted that most of the functions in this module
calculate the features and then add the results to an entirely new
column with a new column header. It is to be also noted that a lot of
these features are inspired from the PyMove library and we are
crediting the PyMove creators with them.</p>
<p>&#64;authors Yaksh J Haranwala, Salman Haidri
&#64;date 22 May, 2021
&#64;version 1.0
&#64;credits PyMove creators</p>
<dl class="py class">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">features.temporal_features.</span></span><span class="sig-name descname"><span class="pre">TemporalFeatures</span></span><a class="headerlink" href="#features.temporal_features.TemporalFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.create_date_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_date_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.create_date_column" title="Permalink to this definition">¶</a></dt>
<dd><p>From the DateTime column already present in the data, extract only the date
and then add another column containing just the date.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The DaskTrajectoryDF on which the creation of the time column is to be done.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.create_day_of_week_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_day_of_week_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.create_day_of_week_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column called Day_Of_Week which contains the day of the week
on which the trajectory point is recorded. This is calculated on the basis
of timestamp recorded in the data.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe containing the entire data on which the operation is to be performed</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.create_time_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_time_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.create_time_column" title="Permalink to this definition">¶</a></dt>
<dd><p>From the DateTime column already present in the data, extract only the time
and then add another column containing just the time.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The DaskTrajectoryDF on which the creation of the time column is to be done.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.create_time_of_day_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_time_of_day_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.create_time_of_day_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Time_Of_Day column in the dataframe using parallelization which indicates at what time of the
day was the point data captured.
Note: The divisions of the day based on the time are provided in the utilities.constants module.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the calculation is to be done.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>“Arina De Jesus Amador Monteiro Sanches. ‘Uma Arquitetura E Imple-menta ̧c ̃ao</dt><dd><p>Do M ́odulo De Pr ́e-processamento Para Biblioteca Pymove’.Bachelor’s thesis.
Universidade Federal Do Cear ́a, 2019.”</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.create_weekend_indicator_column">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">create_weekend_indicator_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.create_weekend_indicator_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column called Weekend which indicates whether the point data is collected
on either a Saturday or a Sunday.</p>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the operation is to be performed.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column if inplace.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>“Arina De Jesus Amador Monteiro Sanches. ‘Uma Arquitetura E Imple-menta ̧c ̃ao</dt><dd><p>Do M ́odulo De Pr ́e-processamento Para Biblioteca Pymove’.Bachelor’s thesis.
Universidade Federal Do Cear ́a, 2019.”</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.get_end_time">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_end_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.get_end_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the ending time of the trajectory.
NOTE: If the trajectory ID is not specified by the user, then by default,</p>
<blockquote>
<div><p>the ending times of all the trajectory IDs in the data are
returned.</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the operations are to be performed.</p>
</dd>
<dt>traj_id: Optional[Text]</dt><dd><p>The trajectory for which the end time is required.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>pandas.DateTime:</dt><dd><p>The end time of a single trajectory.</p>
</dd>
<dt>pandas.core.dataframe.DataFrame</dt><dd><p>Pandas dataframe containing the end time of all the trajectories
present in the data when the user hasn’t asked for a particular
trajectory’s end time.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.get_start_time">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_start_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.get_start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the starting time of the trajectory.
NOTE: If the trajectory ID is not specified by the user, then by default,</p>
<blockquote>
<div><p>the starting times of all the trajectory IDs in the data are
returned.</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: NumPandasTraj</dt><dd><p>The dataframe on which the operations are to be performed.</p>
</dd>
<dt>traj_id: Optional[Text]</dt><dd><p>The trajectory for which the start time is required.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>pandas.DateTime:</dt><dd><p>The start time of a single trajectory.</p>
</dd>
<dt>pandas.core.dataframe.DataFrame</dt><dd><p>Pandas dataframe containing the start time of all the trajectories
present in the data when the user hasn’t asked for a particular
trajectory’s start time.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="features.temporal_features.TemporalFeatures.get_traj_duration">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_traj_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="core.html#core.TrajectoryDF.NumPandasTraj" title="core.TrajectoryDF.NumPandasTraj"><span class="pre">core.TrajectoryDF.NumPandasTraj</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">traj_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#features.temporal_features.TemporalFeatures.get_traj_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor method for the duration of a trajectory specified by the user.
Note: If no trajectory ID is given by the user, then the duration of the entire</p>
<blockquote>
<div><p>data set is given i.e., the difference between the max time in the dataset
and the min time in the dataset.</p>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>dataframe: core.TrajectoryDF.NumPandasTraj</dt><dd><p>The dataframe containing the resultant column if inplace is True.</p>
</dd>
<dt>traj_id: Optional[Text]</dt><dd><p>The trajectory id for which the duration is required.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>pandas.TimeDelta</dt><dd><p>The trajectory duration.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</section>
<section id="module-features">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-features" title="Permalink to this headline">¶</a></h2>
<p>Change the algorithm from 75000 rows at a time to a set of ids
And then filter out a dataframe for each id and calculate .diff() for them</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">NumMobility</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">features package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-features.helper_functions">features.helper_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-features.spatial_features">features.spatial_features module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-features.temporal_features">features.temporal_features module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-features">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">preprocessing package</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">utilities package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="core.html" title="previous chapter">core package</a></li>
      <li>Next: <a href="preprocessing.html" title="next chapter">preprocessing package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Yaksh J Haranwala, Salman Haidri.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/features.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>